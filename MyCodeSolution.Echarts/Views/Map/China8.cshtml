<!-- 为 ECharts 准备一个具备大小（宽高）的 DOM -->
<div id="main" style="width: 100%;"></div>

<script src="~/Content/Scripts/jquery-1.10.2.min.js"></script>
<!-- 引入 ECharts 文件 -->
<script src="~/Content/Scripts/Echarts/echarts.js"></script>

<script type="text/javascript">

    var height = $(window).height();
    $("#main").height(height);

    var myChart = echarts.init(document.getElementById('main'));

    var uploadedDataURL = "/Content/Scripts/Echarts/mapdata/data-1503046655395-rkvb3QV_-.json";

    //人口
    var option = {
        title: {
            text: '广东省茂名市各县(区)人口(2017)',
            subtext: '数据来源网络（单位：万）',
            left: 'center',
            textStyle: {
                color: '#000'
            }
        },
        tooltip: {
            trigger: 'item',
            formatter: "{a} <br/>{b} : {c}万"
        },
        visualMap: {
            min: 80,
            max: 200,
            text: ['高', '低'],
            realtime: false,
            calculable: true,
            left: '10%',
            inRange: {
                color: ['LightSkyBlue', 'Yellow', 'orangered']
            },
            dimension: 0
        },
        grid: {
            x: '80%',
            y: '27%',
            width: '15%',
            height: '50%'
        },
        xAxis: {
            gridIndex: 0,
            axisTick: {
                show: false
            },
            axisLabel: {
                show: false
            },
            splitLine: {
                show: false
            },
            axisLine: {
                show: false
            }
        },
        yAxis: {
            gridIndex: 0,
            interval: 0,
            data: ['茂南区', '电白区', '高州市', '化州市', '信宜市'],
            axisTick: {
                show: true
            },
            axisLabel: {
                show: true
            },
            splitLine: {
                show: false
            },
            axisLine: {
                show: true,
                lineStyle: {
                    color: "#6173a3"
                }
            }
        },

        toolbox: {
            feature: {
                dataView: {
                    readOnly: false
                },
                restore: {},
                saveAsImage: {}
            }
        },
        series: [
            //人口
            {
                name: '人口',
                type: 'map',
                map: '茂名',
                itemStyle: {
                    normal: {
                        label: {
                            show: true
                        },
                        emphasis: {
                            label: {
                                show: true
                            }
                        }
                    }
                },
                data: [{
                    name: '茂南区',
                    value: '84'
                }, {
                    name: '电白区',
                    value: '197'
                }, {
                    name: '高州市',
                    value: '173'
                }, {
                    name: '化州市',
                    value: '165'
                }, {
                    name: '信宜市',
                    value: '142'
                }]
            },
            //右边图表人口
            {
                name: '人口',
                type: 'bar',
                xAxisIndex: 0,
                yAxisIndex: 0,
                barWidth: '45%',
                itemStyle: {
                    normal: {
                        color: '#F4A460'
                    }
                },
                label: {
                    normal: {
                        show: true,
                        position: "right",
                        textStyle: {
                            color: "#9EA7C4"
                        }
                    }
                },
                data: [{
                    name: '茂南区',
                    value: '84'
                }, {
                    name: '电白区',
                    value: '197'
                }, {
                    name: '高州市',
                    value: '173'
                }, {
                    name: '化州市',
                    value: '165'
                }, {
                    name: '信宜市',
                    value: '142'
                }]
            }
        ]
    };

    $.get(uploadedDataURL, function (gdMap) {
        echarts.registerMap('茂名', gdMap);
        myChart.setOption(option, true);
    });

</script>





